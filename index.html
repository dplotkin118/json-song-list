<!DOCTYPE html>

<head>
        <script>
                function loadFile() {
                        /* Step 1: Make instance of request object...
                        ...to make HTTP request after page is loaded*/
                        request = new XMLHttpRequest();
                        console.log("1 - request object created");

                        // Step 2: Set the URL for the AJAX request to be the JSON file

                        request.open("GET", "set-list.json", true);

                        console.log("2 - opened request file");

                        // Step 3: set up event handler/callback

                        request.onreadystatechange = function () {
                                console.log("3 - readystatechange event fired.");

                                if (request.readyState == 4 && request.status == 200) {

                                        // Step 5: wait for done + success

                                        result = request.responseText;
                                        songs = JSON.parse(result);

                                        // strHTML = "<ul>";
                                        // songs.forEach(function (animal) {
                                        //         strHTML += "<li>" + songs.name + " : " + animal.type + "</li>";
                                        // })
                                        // strHTML += "</ul>";
                                        document.getElementById("messages").innerHTML = songs;
                                        // document.getElementById("write").innerHTML = strHTML;
                                }
                                else if (request.readyState == 4 && request.status != 200) {

                                        document.getElementById("write").innerHTML = "Something is wrong!  Check the logs to see where this went off the rails";

                                }

                                else if (request.readyState == 3) {

                                        document.getElementById("write").innerHTML = "Too soon!  Try again";

                                }

                        }
                        // Step 4: fire off the HTTP request
                        request.send();
                        console.log("4 - Request sent");
                }
        </script>
</head>

<body onload="loadFile()">
        <div id="write">
                Loading...
        </div>
</body>
